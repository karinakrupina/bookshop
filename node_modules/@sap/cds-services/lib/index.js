const publicAPI = {
  get service () {
    const service = require('./services/service_factory')
    Object.defineProperty(publicAPI, 'service', { value: service })
    return service
  },
  for (service) {
    return require('./adapter/client/for')(service)
  },
  to: {
    local (service) {
      return require('./adapter/client/to')(service)
    },
    odata_v4 (service) {
      return require('./adapter/odata-v4/to')(service)
    },
    rest (service) {
      return require('./adapter/rest/to')(service)
    }
  },
  inject: (...args) => {
    return require('./cds').inject(...args)
  }
}

/**
 * @module server
 */
module.exports = publicAPI
