const { addKeysToData } = require('../utils/handlerUtils')

/**
 * Generic Handler for UPDATE requests.
 * Happens before UPDATE event is triggered, generates UUIDs for keys.
 *
 * @param context - operation object, that provides error, continuation and other functions as well as information
 * regarding the current operation.
 * @alias module:handlers.beforeUpdate
 */
const beforeUpdate = () => context => {
  addKeysToData(context.data, context.target, true)
}

module.exports = beforeUpdate
