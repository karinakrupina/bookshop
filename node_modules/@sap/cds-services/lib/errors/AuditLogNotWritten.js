/**
 * Thrown in case the audit log cannot be written.
 * @extends {external:Error}
 * @alias module:errors.AuditLogNotWritten
 */
class AuditLogNotWritten extends Error {
  /**
   * Create a AuditLogNotWritten.
   */
  constructor (rootCauseError, phase, event) {
    const errorMessage =
      !phase || event === 'READ' ? 'Audit log could not be written' : `Audit log could not be written ${phase}`

    super(errorMessage)
    this.name = this.constructor.name
    this.rootCause = rootCauseError
    Error.captureStackTrace(this, this.constructor)
  }
}

module.exports = AuditLogNotWritten
