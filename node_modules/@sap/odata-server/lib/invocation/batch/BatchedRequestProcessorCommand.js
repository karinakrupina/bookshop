'use strict';

const BatchedRequestExecutor = require('../../batch/BatchedRequestExecutor');
const Command = require('../Command');

/**
 * Command for starting the BatchedRequestExecutor
 * @extends Command
 */
class BatchedRequestProcessorCommand extends Command {
    /**
     *  Constructor
     * @param {BatchContext} batchContext Batch context
     * @param {OdataRequestInBatch} request the request
     */
    constructor(batchContext, request) {
        super();

        /**
         * Executor instance
         * @type {BatchedRequestExecutor}
         * @private
         */
        this._batchExecutor = new BatchedRequestExecutor(batchContext, request);
    }

    /**
     * Executes the batch executor
     * @param {Command~Next} next the next function
     */
    execute(next) {
        this._batchExecutor.execute(next);
    }
}

module.exports = BatchedRequestProcessorCommand;
